---
layout: base
pagination:
  data: collections.posts
  size: 10
  alias: postslist
  reverse: true
permalink: "posts/{% if pagination.pageNumber > 0 %}{{ pagination.pageNumber + 1 }}/{% endif %}"
---
{% for post in postslist %}
  <article>
    <header>
      <time datetime="{{ post.date | dateToFormat('yyyy-LL-dd') }}">{{ post.date | dateToFormat('d LLL y') }}</time>
      <h2>
        <a href="{{ post.url }}">{{ post.data.title | safe }}</a>
      </h2>
    </header>
    {% if post.data.page.excerpt %}
      {{ post.data.page.excerpt | markdownify | safe }}
      <p>
        <a href="{{ post.url }}"aria-label="Continue reading “{{ post.data.title }}”">Read more…</a>
      </p>
    {% else %}
      {{ post.templateContent | safe }}
    {% endif %}
  </article>
{% endfor %}

{% if pagination.pages and pagination.pages.length > 1 %}
  <nav aria-labelledby="pagination">
    <ol>
      {%- for pageEntry in pagination.pages %}
        <li>
          <a href="{{ pagination.hrefs[ loop.index0 ] }}"{% if page.url == pagination.hrefs[ loop.index0 ] %} aria-current="page"{% endif %} aria-label="Page {{ loop.index }}">{{ loop.index }}</a>
        </li>
      {%- endfor %}
    </ol>
  {% if pagination.page.next %}
    <a href="{{ pagination.href.next }}" aria-label="Next page">Next</a>
  {% endif %}
  </nav>
{% endif %}